---
layout: sub
title: Shoko Server - Running On Linux with Docker
permalink: server/linux_synology.html
---

<!-- Sidebar -->
<aside class="col-lg-2 col-md-3 col-sm-3 sidebar">
	<ul class="nav sidenav dropable sticky">
		<li><a href="index.html">Shoko Server Root</a></li>
		<li class="hr-menu">
			<hr/>
		</li>
		<li><a href="#install-docker">Install Docker on Synology</a></li>
		<li><a href="#running-shoko-docker">Shoko Server on Synology Docker</a></li>
		<li><a href="#manage-docker">Manage Shoko Server on Synology Docker</a></li>
		<li class="hr-menu">
			<hr/>
		</li>
		<li><a href="../faq.html">Frequently Asked Questions</a></li>
		<li><a href="../changelog.html">Changelog</a></li>
	</ul>
</aside>
<!-- END Sidebar -->

<!-- Main content -->
<article class="col-lg-10 col-md-9 col-sm-9 main-content" role="main">
	<header>
		<h1>Running Shoko Server On Synology Docker</h1>
		<p>A guide on how to run Shoko Server on Synology Docker, broken into two parts.</p>
		<script language="javascript" src="../assets/js/breadnav.js"></script>
	</header>
	<section>
		<h2 id="install-docker">Installing Docker on Synology</h2>
		<div class="col-sm-8">
			<p>Use the Package Center to install Docker.</p>
		</div>
		<div class="col-sm-4">
			<a href="../assets/img/server/Synology-Docker-Install.png"><img src="../assets/img/server/Synology-Docker-Install.png"
				class="img-responsive img-thumbnail" alt="Synology Docker Install"/></a>
				<figcaption>Synology Docker Install</figcaption>
		</div>
	</section>

	<section>
		<h2 id="running-shoko-docker">Shoko Server on Synology Docker</h2>
		<!---Callout-->
		<div class="bs-callout bs-callout-warning">
			<h4>Synology Docker Warning!</h4>
			<p>Synology's Docker is a web application that is not the same as the command line interface of docker. It has a graphical interface and limited configuration options.
				However, it is possible to run a Shoko on Synology's Docker. The installation can be done via the Web GUI or you can SSH into the Synology interface with the CLI.
				Below is provided two ways to install and manage Shoko on Synology.
			</p>
		</div>
		<!--Tabs-->
		<ul class="nav nav-tabs" role="tablist">
			<li role="presentation" class="active"><a href="#easy" aria-controls="home" role="tab" data-toggle="tab">Easy Installation</a></li>
			<li role="presentation"><a href="#advanced" aria-controls="profile" role="tab" data-toggle="tab">Advanced Installation</a></li>
		</ul>
		<!--Tab Content-->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane active fade in" id="easy">
				<div class="container"
					<div class="row">
						<div class="col-sm-8">
							<p>Open Docker from the Main Menu.</p>
						</div>
						<div class="col-sm-4">
							<a href="../assets/img/server/Synology-Running-Docker-Start-Docker.png"><img src="../assets/img/server/Synology-Running-Docker-Start-Docker.png"
								class="img-responsive img-thumbnail" alt="Synology Running Docker - Start Docker"/></a>
							<figcaption>Synology Running Docker - Start Docker</figcaption>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-8">
							<p>Open the Docker Registry</p>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-Open-Docker-Registry.png"><img src="../assets/img/server/Synology-Running-Docker-Open-Docker-Registry.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - Open Docker Registry"/></a>
						<figcaption>Synology Running Docker - Open Docker Registry</figcaption>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-8">
						<p>Open Docker Registry Settings.</p>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-Open-Docker-Registry-Settings.png"><img src="../assets/img/server/Synology-Running-Docker-Open-Docker-Registry-Settings.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - Open Docker Registry Settings"/></a>
						<figcaption>Synology Running Docker - Open Docker Registry Settings</figcaption>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-8">
						<p>By default, Synology's Docker is only configured to allow images downloaded from it's own private registry.  Shoko Server is published to the Docker Hub, and that registry needs to be added to Synology Docker.</p>
						<p>Add a new registry.</p>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-Add-A-New-Registry.png"><img src="../assets/img/server/Synology-Running-Docker-Add-A-New-Registry.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - Add A New Registry"/></a>
						<figcaption>Synology Running Docker - Add A New Registry</figcaption>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-8">
						<p>Enter Docker Hub's registry details</p>
						<table class="table table-striped">
							<tr>
								<th>Name</th>
								<th>Value</th>
							</tr>
							<tr>
								<td>Registry Name</td>
								<td>Docker Hub</td>
							</tr>
							<tr>
								<td>Registry URL</td>
								<td>https://registry.hub.docker.com</td>
							</tr>
							<tr>
								<td>Trust SSL Self-Signed Certificate</td>
								<td>&#x2714;</td>
							</tr>
						</table>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-Enter-Registry-Details.png"><img src="../assets/img/server/Synology-Running-Docker-Enter-Registry-Details.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - Enter Registry Details"/></a>
						<figcaption>Synology Running Docker - Enter Registry Details</figcaption>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-8">
						<p>Click OK to close Synology Docker Registry Settings.</p>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-Close-Synology-Docker-Registry-Settings.png"><img src="../assets/img/server/Synology-Running-Docker-Close-Synology-Docker-Registry-Settings.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - Close Synology Docker Registry Settings"/></a>
						<figcaption>Synology Running Docker - Close Synology Docker Registry Settings</figcaption>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-8">
						<p>You can now search repositories from the Docker Hub Registry. Enter "cazzar/shokoserver" into the search box above and click the search button.</p>
						<p>Check to make sure your results are accurate and click on the "cazzar/shokoserver" to chose a release to download.</p>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-Search-for-Shoko-Server.png"><img src="../assets/img/server/Synology-Running-Docker-Search-for-Shoko-Server.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - Search for Shoko Server"/></a>
						<figcaption>Synology Running Docker - Search for Shoko Server</figcaption>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-8">
						<p>Chose the latest release to download.</p>
						<div class="bs-callout bs-callout-info">
							<h4>Note</h4>
							<p>At this time there are only two releases available - 'Latest' and 'Daily'. There is no difference between the two builds.
								However they are updated frequently.	A seperate stable release will become available soon.
							</p>
						</div>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-Select-Release.png"><img src="../assets/img/server/Synology-Running-Docker-Select-Release.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - Select Release"/></a>
						<figcaption>Synology Running Docker - Select Release</figcaption>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-8">
						<p>After selecting the release, a notification under images will appear and Shoko Server download will begin.</p>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-Download-Started.png"><img src="../assets/img/server/Synology-Running-Docker-Download-Started.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - Download Started"/></a>
						<figcaption>Synology Running Docker - Download Started</figcaption>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-8">
						<p>Wait for the download to complete, then click Launch to create a container for Shoko Server (download size may differ).</p>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-Launch-Image.png"><img src="../assets/img/server/Synology-Running-Docker-Launch-Image.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - Launch Image"/></a>
						<figcaption>Synology Running Docker - Launch Image</figcaption>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-8">
						<p>Click on Advanced Settings.</p>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-Advanced-Settings.png"><img src="../assets/img/server/Synology-Running-Docker-Advanced-Settings.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - Advanced Settings"/></a>
						<figcaption>Synology Running Docker - Advanced Settings</figcaption>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-8">
						<p>OPTIONAL: <a href="https://docs.docker.com/engine/admin/start-containers-automatically/">Enable Auto Restart.</a></p>
						<p>Click on 'Volume' to continue.</p>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-Enable-Auto-Restart.png"><img src="../assets/img/server/Synology-Running-Docker-Enable-Auto-Restart.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - Enable Auto Restart"/></a>
						<figcaption>Synology Running Docker - Enable Auto Restart</figcaption>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-8">
						<p>Here you will mount volumes to folders on the host. This is done to preserve your settings between updates and to grant the container access to your shared folders.</p>
						<p>Click on 'Port Settings' to continue.</p>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-Add-Volumes.png"><img src="../assets/img/server/Synology-Running-Docker-Add-Volumes.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - Add Volumes"/></a>
						<figcaption>Synology Running Docker - Add Volumes</figcaption>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-8">
						<p>Bind Local TCP Port 8111 to Container TCP Port 8111.</p>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-Bind-Ports.png"><img src="../assets/img/server/Synology-Running-Docker-Bind-Ports.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - Bind Ports"/></a>
						<figcaption>Synology Running Docker - Bind Ports</figcaption>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-8">
						<p>Click Next to review your settings.</p>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-Review-Container-Settings.png"><img src="../assets/img/server/Synology-Running-Docker-Review-Container-Settings.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - Review Container Settings"/></a>
						<figcaption>Synology Running Docker - Review Container Settings</figcaption>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-8">
						<p>Review your settings and, if everything is correct, click Apply.</p>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-Create-Container.png"><img src="../assets/img/server/Synology-Running-Docker-Create-Container.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - Create Container"/></a>
						<figcaption>Synology Running Docker - Create Container</figcaption>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-8">
						<p>Click on container to view your newly created Shoko Server.</p>
					</div>
					<div class="col-sm-4">
						<a href="../assets/img/server/Synology-Running-Docker-View-Containers.png"><img src="../assets/img/server/Synology-Running-Docker-View-Containers.png"
							class="img-responsive img-thumbnail" alt="Synology Running Docker - View Containers"/></a>
						<figcaption>Synology Running Docker - View Containers</figcaption>
					</div>
				</div>
			</div>
		</div>
		<div role="tabpanel" class="tab-pane active fade in" id="advanced">
			<div class="bs-callout bs-callout-info">
				<h4>Note</h4>
				<p>The following instructions details how to run docker commands from SSH.  SSH is not enabled by default and will cause your
					Secuity Advisor to issue warnings and possibly automatically disable SSH to fix these warnings. In addition, the Synology
					environment is very restricted and customized.  There will be very few tools available to you in the CLI with no way to download
					any packages to assist you in troubleshooting. Synology Docker is also different from vanilla Docker, so not all commands work.
					There are ways around all of the issues described, but it is beyond the scope of this guide.</p>
				</p>
			</div>
			<div class="bs-callout bs-callout-warning">
				<h4>Warning</h4>
				<p>The following instructions described below make use of superuser.  Making improper changes to your Synology while under superuser rights may
					cause your NAS to become unresponsive and inoperable, and depending on your disk setup - data loss.  The instructions below are safe, but if
					you run into errors, please be mindful of your privilages before you being troubleshooting.
				</p>
			</div>
			<p>Login to your Synology NAS with an admin account. Then issue the command:</p>
			<pre class=".pre-scrollable">sudo -i</pre>
			<p>Enter your admin password again to continue.</p>
			<p>Pull the docker image with the command:</p>
			<pre class=".pre-scrollable">docker pull cazzar/shokoserver</pre>
			<p>Once the command is completed, you may create the container with the following command:</p>
			<div class="bs-callout bs-callout-info">
				<h4>Note</h4>
				<p>The following command is an example. For more details on the each option please refer to the <a href="linux_install.html">Shoko Server on Linux</a>.
					Details regarding additional commands are oulined below.
				</p>
			</div>
			<pre class=".pre-scrollable">docker run -d --name cazzar-shokoserver1 --restart always -p 8111:8111/tcp -v "/path/to/webui:/usr/src/app/build/webui" -v "/path/to/shoko/settings:/root/.shoko" -v "/path/to/import:/import" -v "/path/to/anime:/anime" cazzar/shokoserver</pre>
			<table>
				<tr>
					<th>Option</th>
					<th>Notes</th>
				</tr>
				<tr>
					<td>-d</td>
					<td><a href="https://docs.docker.com/engine/reference/run/#detached--d">Runs in detached</a>, which prevents docker from running Shoko Server within your session.  Synology does not have a return to shell feature, so without this command you would have to shut down your SSH client to return to your session.</td>
				</tr>
				<tr>
					<td>--name cazzar-shokoserver1</td>
					<td><a href="https://docs.docker.com/engine/reference/run/#container-identification">Names your container</a>. This is useful if you plan on using the web interface to manage your container.  Without this, your container will have a randomly generated name.</td>
				</tr>
				<tr>
					<td>--restart always</td>
					<td><a href="https://docs.docker.com/engine/reference/run/#restart-policies-restart">Defines a restart policy</a>.</td>
				</tr>
			</table>
		</div>
	</section>
	<section>
		<h2 id="manage-docker">Manage Shoko Server on Synology Docker</h2>
		<div class="container">
			<div class="row">
				<div class="col-sm-8">
					<p>While viewing the Docker panel in the Synology web interface, click on container to view the running containers.</p>
					<p>If everything was set up correctly, Shoko Server should be automatically running and the details button will become avaialble.  Select the container and then Push the details button.</p>
				</div>
				<div class="col-sm-4">
					<a href="../assets/img/server/Synology-Manage-Docker-View-Details.png"><img src="../assets/img/server/Synology-Manage-Docker-View-Details.png"
						class="img-responsive img-thumbnail" alt="Synology Manage Docker - View Details"/></a>
						<figcaption>Synology Manage Docker - View Details</figcaption>
					</div>
				</div>
			<div class="row">
				<div class="col-sm-8">
					<p>Here you can view and verify the Port settings and volume settings, as well as other information.</p>
					<div class="bs-callout bs-callout-info">
						<h4>Note</h4>
						<p>Please take a moment to check out the 'MONO_VERSION' enviroment variable.
							When requesting support, please mention the 'MONO_VERSION' you are using.
						</p>
					</div>
					<p>Press the Terminal tab to continue.</p>
				</div>
				<div class="col-sm-4">
					<a href="../assets/img/server/Synology-Manage-Docker-Details-Overview.png"><img src="../assets/img/server/Synology-Manage-Docker-Details-Overview.png"
						class="img-responsive img-thumbnail" alt="Synology Manage Docker - Details Overview"/></a>
						<figcaption>Synology Manage Docker - Details Overview</figcaption>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-8">
					<p>The terminal view gives you the output of the Shoko Server session.  It is a useful aid in quickly determining if there is an issue.</p>
					<div class="bs-callout bs-callout-info">
						<h4>Note</h4>
						<p>The terminal view displays work being performed by the Shoko Server in real time.  However, the web interface may not be able to handle
							the amount of information being displayed at once.  In addition, there is no way to pause the display and the terminal window does not scroll.
							It is a useful tool to check the status of your server without webui - but for detailed logging information, please see the logs located in
							Shoko's log folder.
						</p>
					</div>
				</div>
				<div class="col-sm-4">
					<a href="../assets/img/server/Synology-Manage-Docker-Termainal.png"><img src="../assets/img/server/Synology-Manage-Docker-Termainal.png"
						class="img-responsive img-thumbnail" alt="Synology Manage Docker - Termainal"/></a>
						<figcaption>Synology Manage Docker - Terminal</figcaption>
				</div>
			</div>
		</div>
	</section>
</article>
